<%- include('../partials/head') %>

<div class="page-header">
  <h1>Create New Task</h1>
  <a href="/tasks" class="btn btn-outline">‚Üê Back to Tasks</a>
</div>

<% if (error) { %>
  <div class="alert alert-error"><%= error %></div>
<% } %>

<div class="form-container">
  <form action="/tasks" method="POST" class="form">
    <div class="form-group">
      <label for="title">Title *</label>
      <input 
        type="text" 
        id="title" 
        name="title" 
        required 
        maxlength="100"
        placeholder="What needs to be done?"
      >
    </div>
    
    <div class="form-group">
      <label for="description">Description</label>
      <textarea 
        id="description" 
        name="description" 
        rows="4" 
        maxlength="500"
        placeholder="Add more details about this task..."
      ></textarea>
    </div>
    
    <div class="form-row">
      <div class="form-group">
        <label for="status">Status</label>
        <select id="status" name="status">
          <option value="todo">To Do</option>
          <option value="in-progress">In Progress</option>
          <option value="done">Done</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="priority">Priority</label>
        <select id="priority" name="priority">
          <option value="low">Low</option>
          <option value="medium" selected>Medium</option>
          <option value="high">High</option>
        </select>
      </div>
    </div>
    
    <div class="form-row">
      <div class="form-group">
        <label for="dueDate">Due Date</label>
        <input type="date" id="dueDate" name="dueDate">
      </div>
      
      <div class="form-group">
        <label for="categoryId">Category</label>
        <select id="categoryId" name="categoryId">
          <option value="">No Category</option>
          <% categories.forEach(cat => { %>
            <option value="<%= cat._id %>"><%= cat.name %></option>
          <% }) %>
        </select>
        <% if (categories.length === 0) { %>
          <small><a href="/categories/new">Create a category</a></small>
        <% } %>
      </div>
    </div>
    
    <div class="form-actions">
      <button type="submit" class="btn btn-primary">Create Task</button>
      <a href="/tasks" class="btn btn-outline">Cancel</a>
    </div>
  </form>
</div>

<%- include('../partials/footer') %> 